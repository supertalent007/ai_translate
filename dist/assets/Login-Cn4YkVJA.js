import{u as E,a as S,b as H,r as m,c as W,d as M,j as e,F as w,I as b,O as y,e as u,f as q,g as z,S as k,h as T,T as l,B as f,A as $,i as N,k as _,l as G,G as s,m as O,L as v,n as R,D as V}from"./index-BQLy-uNY.js";import{F as K,c as Q,a as C,d as J,b as U,C as X}from"./VisibilityOff-C1MAFCrl.js";const Y="http://localhost:8000/api",Z=({user:a,setUser:r,...d})=>{const i=E();S(i.breakpoints.down("md")),H(t=>t.customization);const[I,A]=m.useState(!0),x=W(),h=M(),[c,D]=m.useState(!1),B=()=>{D(!c)},P=t=>{t.preventDefault()},F=async()=>{try{const t=await _.post(`${Y}/auth/login`,a);t.status===200&&(x.show("Login Success!",{autoHideDuration:3e3,severity:"success"}),localStorage.setItem("token",t.data.token),h("/translations"))}catch(t){x.show(t.response.data.message,{autoHideDuration:3e3,severity:"error"})}};return e.jsx(e.Fragment,{children:e.jsx(K,{initialValues:{email:"",password:"",submit:null},validationSchema:Q().shape({email:C().email("Must be a valid email").max(255).required("Email is required"),password:C().max(255).required("Password is required")}),onSubmit:F,children:({errors:t,handleBlur:p,handleChange:j,handleSubmit:L,isSubmitting:ee,touched:o,values:g})=>e.jsxs("form",{noValidate:!0,onSubmit:L,...d,children:[e.jsxs(w,{fullWidth:!0,error:!!(o.email&&t.email),sx:{...i.typography.customInput},children:[e.jsx(b,{htmlFor:"outlined-adornment-email-login",children:"Email Address"}),e.jsx(y,{id:"outlined-adornment-email-login",type:"email",value:g.email,name:"email",onBlur:p,onChange:n=>{j(n),r({...a,email:n.target.value})},label:"Email Address",inputProps:{}}),o.email&&t.email&&e.jsx(u,{error:!0,id:"standard-weight-helper-text-email-login",children:t.email})]}),e.jsxs(w,{fullWidth:!0,error:!!(o.password&&t.password),sx:{...i.typography.customInput},children:[e.jsx(b,{htmlFor:"outlined-adornment-password-login",children:"Password"}),e.jsx(y,{id:"outlined-adornment-password-login",type:c?"text":"password",value:g.password,name:"password",onBlur:p,onChange:n=>{j(n),r({...a,password:n.target.value})},endAdornment:e.jsx(q,{position:"end",children:e.jsx(z,{"aria-label":"toggle password visibility",onClick:B,onMouseDown:P,edge:"end",size:"large",children:c?e.jsx(J,{}):e.jsx(U,{})})}),label:"Password",inputProps:{}}),o.password&&t.password&&e.jsx(u,{error:!0,id:"standard-weight-helper-text-password-login",children:t.password})]}),e.jsxs(k,{direction:"row",alignItems:"center",justifyContent:"space-between",spacing:1,children:[e.jsx(T,{control:e.jsx(X,{checked:I,onChange:n=>A(n.target.checked),name:"checked",color:"primary"}),label:"Remember me"}),e.jsx(l,{variant:"subtitle1",color:"secondary",sx:{textDecoration:"none",cursor:"pointer"},onClick:n=>h("/forgot-password"),children:"Forgot Password?"})]}),t.submit&&e.jsx(f,{sx:{mt:3},children:e.jsx(u,{error:!0,children:t.submit})}),e.jsx(f,{sx:{mt:2},children:e.jsx($,{children:e.jsx(N,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Sign in"})})})]})})})},ne=()=>{const a=S(i=>i.breakpoints.down("md")),[r,d]=m.useState({email:"",password:""});return e.jsx(G,{children:e.jsx(s,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:e.jsx(s,{item:!0,xs:12,children:e.jsx(s,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:e.jsx(s,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:e.jsx(O,{children:e.jsxs(s,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[e.jsx(s,{item:!0,sx:{mb:3},children:e.jsx(v,{to:"/","aria-label":"logo",children:e.jsx(R,{})})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(s,{container:!0,direction:{xs:"column-reverse",md:"row"},alignItems:"center",justifyContent:"center",children:e.jsx(s,{item:!0,children:e.jsxs(k,{alignItems:"center",justifyContent:"center",spacing:1,children:[e.jsx(l,{color:"secondary.main",gutterBottom:!0,variant:a?"h3":"h2",children:"Hi, Welcome Back"}),e.jsx(l,{variant:"caption",fontSize:"16px",textAlign:{xs:"center",md:"inherit"},children:"Enter your credentials to continue"})]})})})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(Z,{user:r,setUser:d})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(V,{})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(s,{item:!0,container:!0,direction:"column",alignItems:"center",xs:12,children:e.jsx(l,{component:v,to:"/register",variant:"subtitle1",sx:{textDecoration:"none"},children:"Don't have an account?"})})})]})})})})})})})};export{ne as default};
