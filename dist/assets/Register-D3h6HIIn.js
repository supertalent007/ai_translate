import{v as l,u as T,a as I,b as H,r as u,d as $,c as q,j as e,G as s,o as v,F as g,I as S,O as C,e as j,f as V,g as _,B as h,T as c,h as G,L as w,A as O,i as K,k as Q,l as Z,m as J,n as X,S as Y,D as U}from"./index-BQLy-uNY.js";import{F as ee,c as te,a as k,d as se,b as re,C as ne}from"./VisibilityOff-C1MAFCrl.js";const ae=t=>new RegExp(/[0-9]/).test(t),ie=t=>new RegExp(/[a-z]/).test(t)&&new RegExp(/[A-Z]/).test(t),oe=t=>new RegExp(/[!#@$%^&*)(+=._-]/).test(t),le=t=>t<2?{label:"Poor",color:l.errorMain}:t<3?{label:"Weak",color:l.warningDark}:t<4?{label:"Normal",color:l.orangeMain}:t<5?{label:"Good",color:l.successMain}:t<6?{label:"Strong",color:l.successDark}:{label:"Poor",color:l.errorMain},ce=t=>{let n=0;return t.length>5&&(n+=1),t.length>7&&(n+=1),ae(t)&&(n+=1),oe(t)&&(n+=1),ie(t)&&(n+=1),n},de="http://localhost:8000/api",ue=({user:t,setUser:n,...x})=>{const i=T(),P=I(i.breakpoints.down("md"));H(r=>r.customization);const[p,A]=u.useState(!1),[D,F]=u.useState(!0);$();const f=q(),[M,N]=u.useState(0),[o,B]=u.useState(),E=()=>{A(!p)},R=r=>{r.preventDefault()},W=r=>{const d=ce(r);N(d),B(le(d))},L=async()=>{try{const r=await Q.post(`${de}/auth/register`,t);f.show("Register Success! Please check your email to verify your account.",{autoHideDuration:5e3,severity:"success"})}catch{f.show("Registration failed. Please try again.",{autoHideDuration:5e3,severity:"error"})}};return e.jsx(e.Fragment,{children:e.jsx(ee,{initialValues:{email:"",password:"",submit:null},validationSchema:te().shape({email:k().email("Must be a valid email").max(255).required("Email is required"),password:k().max(255).required("Password is required")}),onSubmit:L,children:({errors:r,handleBlur:d,handleChange:b,handleSubmit:z,isSubmitting:me,touched:m,values:y})=>e.jsxs("form",{noValidate:!0,onSubmit:z,...x,children:[e.jsxs(s,{container:!0,spacing:P?0:2,children:[e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(v,{fullWidth:!0,label:"First Name",margin:"normal",name:"fname",type:"text",defaultValue:"",sx:{...i.typography.customInput},onChange:a=>n({...t,firstName:a.target.value})})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(v,{fullWidth:!0,label:"Last Name",margin:"normal",name:"lname",type:"text",defaultValue:"",sx:{...i.typography.customInput},onChange:a=>n({...t,lastName:a.target.value})})})]}),e.jsxs(g,{fullWidth:!0,error:!!(m.email&&r.email),sx:{...i.typography.customInput},children:[e.jsx(S,{htmlFor:"outlined-adornment-email-register",children:"Email Address"}),e.jsx(C,{id:"outlined-adornment-email-register",type:"email",value:y.email,name:"email",onBlur:d,onChange:a=>{b(a),n({...t,email:a.target.value})},inputProps:{}}),m.email&&r.email&&e.jsx(j,{error:!0,id:"standard-weight-helper-text--register",children:r.email})]}),e.jsxs(g,{fullWidth:!0,error:!!(m.password&&r.password),sx:{...i.typography.customInput},children:[e.jsx(S,{htmlFor:"outlined-adornment-password-register",children:"Password"}),e.jsx(C,{id:"outlined-adornment-password-register",type:p?"text":"password",value:y.password,name:"password",label:"Password",onBlur:d,onChange:a=>{b(a),W(a.target.value),n({...t,password:a.target.value})},endAdornment:e.jsx(V,{position:"end",children:e.jsx(_,{"aria-label":"toggle password visibility",onClick:E,onMouseDown:R,edge:"end",size:"large",children:p?e.jsx(se,{}):e.jsx(re,{})})}),inputProps:{}}),m.password&&r.password&&e.jsx(j,{error:!0,id:"standard-weight-helper-text-password-register",children:r.password})]}),M!==0&&e.jsx(g,{fullWidth:!0,children:e.jsx(h,{sx:{mb:2},children:e.jsxs(s,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(s,{item:!0,children:e.jsx(h,{style:{backgroundColor:o==null?void 0:o.color},sx:{width:85,height:8,borderRadius:"7px"}})}),e.jsx(s,{item:!0,children:e.jsx(c,{variant:"subtitle1",fontSize:"0.75rem",children:o==null?void 0:o.label})})]})})}),e.jsx(s,{container:!0,alignItems:"center",justifyContent:"space-between",children:e.jsx(s,{item:!0,children:e.jsx(G,{control:e.jsx(ne,{checked:D,onChange:a=>F(a.target.checked),name:"checked",color:"primary"}),label:e.jsxs(c,{variant:"subtitle1",children:["Agree with Â ",e.jsx(c,{variant:"subtitle1",component:w,to:"#",children:"Terms & Condition."})]})})})}),r.submit&&e.jsx(h,{sx:{mt:3},children:e.jsx(j,{error:!0,children:r.submit})}),e.jsx(h,{sx:{mt:2},children:e.jsx(O,{children:e.jsx(K,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Sign up"})})})]})})})},pe=()=>{const t=I(i=>i.breakpoints.down("md")),[n,x]=u.useState({firstName:"",lastName:"",email:"",password:""});return e.jsx(Z,{children:e.jsx(s,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:e.jsx(s,{item:!0,xs:12,children:e.jsx(s,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:e.jsx(s,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:e.jsx(J,{children:e.jsxs(s,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[e.jsx(s,{item:!0,sx:{mb:3},children:e.jsx(w,{to:"/","aria-label":"theme logo",children:e.jsx(X,{})})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(s,{container:!0,direction:{xs:"column-reverse",md:"row"},alignItems:"center",justifyContent:"center",children:e.jsx(s,{item:!0,children:e.jsxs(Y,{alignItems:"center",justifyContent:"center",spacing:1,children:[e.jsx(c,{color:"secondary.main",gutterBottom:!0,variant:t?"h3":"h2",children:"Sign up"}),e.jsx(c,{variant:"caption",fontSize:"16px",textAlign:{xs:"center",md:"inherit"},children:"Enter your credentials to continue"})]})})})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(ue,{user:n,setUser:x})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(U,{})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(s,{item:!0,container:!0,direction:"column",alignItems:"center",xs:12,children:e.jsx(c,{component:w,to:"/login",variant:"subtitle1",sx:{textDecoration:"none"},children:"Already have an account?"})})})]})})})})})})})};export{pe as default};
